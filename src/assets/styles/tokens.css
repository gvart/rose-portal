/**
 * Rose Portal Design Tokens
 * Precision & Density Design System
 *
 * Design Direction: Technical, information-forward aesthetic inspired by Linear and Raycast
 * Key Principles:
 * - 4px baseline grid for all spacing
 * - Borders-only depth strategy (minimal shadows)
 * - Sharp corners (4-12px radius)
 * - Monochrome with semantic color accents
 * - Pure touchscreen interaction (:active states)
 */

:root {
  /* ========================================
     COLOR SYSTEM - LIGHT MODE (DEFAULT)
     ======================================== */

  /* Neutrals (Cool Slate-based for Technical Feel) */
  --color-bg-primary: #FFFFFF;
  --color-bg-secondary: #F8FAFC;
  --color-bg-tertiary: #F1F5F9;
  --color-bg-hover: #E2E8F0;      /* Desktop fallback only */
  --color-bg-active: #CBD5E1;     /* Touch :active state */

  /* Borders */
  --color-border-primary: #E2E8F0;
  --color-border-secondary: #CBD5E1;
  --color-border-focus: #3B82F6;

  /* Text Hierarchy (4 levels: primary → secondary → muted → faint) */
  --color-text-primary: #0F172A;
  --color-text-secondary: #475569;
  --color-text-muted: #64748B;
  --color-text-faint: #94A3B8;

  /* Semantic Colors (Meaning-Only Usage) */
  --color-success-bg: #ECFDF5;
  --color-success-border: #86EFAC;
  --color-success-text: #166534;
  --color-success-solid: #22C55E;

  --color-warning-bg: #FEF3C7;
  --color-warning-border: #FCD34D;
  --color-warning-text: #92400E;
  --color-warning-solid: #F59E0B;

  --color-error-bg: #FEE2E2;
  --color-error-border: #FCA5A5;
  --color-error-text: #991B1B;
  --color-error-solid: #EF4444;

  --color-info-bg: #EFF6FF;
  --color-info-border: #93C5FD;
  --color-info-text: #1E40AF;
  --color-info-solid: #3B82F6;

  /* Accent (Primary Action - Blue) */
  --color-accent-primary: #3B82F6;
  --color-accent-primary-hover: #2563EB;
  --color-accent-primary-active: #1D4ED8;

  /* ========================================
     SPACING SYSTEM (4px Grid)
     ======================================== */

  --space-1: 4px;     /* Micro spacing, icon gaps */
  --space-2: 8px;     /* Tight spacing, compact padding */
  --space-3: 12px;    /* Default gaps */
  --space-4: 16px;    /* Standard padding */
  --space-5: 20px;    /* Section spacing */
  --space-6: 24px;    /* Large section spacing */
  --space-7: 28px;    /* Extra large gaps */
  --space-8: 32px;    /* Major sections */
  --space-9: 36px;    /* Very large sections */
  --space-10: 40px;   /* Huge sections */
  --space-11: 44px;   /* Touch target size */
  --space-12: 48px;   /* Maximum spacing */

  /* ========================================
     TYPOGRAPHY SYSTEM
     ======================================== */

  /* Font Families */
  --font-sans: -apple-system, BlinkMacSystemFont, "SF Pro Display", system-ui, sans-serif;
  --font-mono: ui-monospace, 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', monospace;

  /* Font Sizes (Precision & Density Scale) */
  --font-size-10: 10px;   /* Micro labels (use sparingly) */
  --font-size-11: 11px;   /* Small labels, badges */
  --font-size-12: 12px;   /* Captions, secondary text */
  --font-size-13: 13px;   /* Compact body text */
  --font-size-14: 14px;   /* Base body text (DEFAULT) */
  --font-size-16: 16px;   /* Emphasized text */
  --font-size-18: 18px;   /* Subheadings */
  --font-size-24: 24px;   /* Section headings */
  --font-size-32: 32px;   /* Page titles */

  /* Font Weights */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Letter Spacing */
  --letter-spacing-tight: -0.02em;   /* Headlines (14px+) */
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.02em;     /* Small caps, labels */

  /* ========================================
     BORDER RADIUS SYSTEM
     ======================================== */

  --radius-xs: 4px;    /* Buttons, badges, chips */
  --radius-sm: 6px;    /* Small cards, inputs */
  --radius-md: 8px;    /* Default cards, modals */
  --radius-lg: 12px;   /* Large cards, panels */
  --radius-full: 50%;  /* Circular (avatars, icon buttons) */

  /* ========================================
     DEPTH SYSTEM (Borders-Only Strategy)
     ======================================== */

  /* Level 0: Flush with background */
  --depth-0-border: none;
  --depth-0-bg: transparent;

  /* Level 1: Default cards, subtle elevation */
  --depth-1-border: 1px solid var(--color-border-primary);
  --depth-1-bg: var(--color-bg-primary);

  /* Level 2: Elevated cards, emphasized borders */
  --depth-2-border: 1px solid var(--color-border-secondary);
  --depth-2-bg: var(--color-bg-primary);

  /* Level 3: Modals, dialogs (subtle shadow for separation) */
  --depth-3-border: 1px solid var(--color-border-secondary);
  --depth-3-bg: var(--color-bg-primary);
  --depth-3-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);

  /* Level 4: Floating elements (pills, toasts, subtle shadow) */
  --depth-4-border: 1px solid var(--color-border-secondary);
  --depth-4-bg: var(--color-bg-primary);
  --depth-4-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);

  /* ========================================
     ANIMATION & TRANSITIONS
     ======================================== */

  /* Timing Functions */
  --ease-in-out: cubic-bezier(0.25, 1, 0.5, 1);  /* Design principles easing */
  --ease-spring: cubic-bezier(0.4, 0.0, 0.2, 1); /* Smooth spring */

  /* Durations */
  --duration-instant: 100ms;
  --duration-fast: 150ms;     /* Micro-interactions */
  --duration-normal: 200ms;   /* Standard transitions */
  --duration-slow: 250ms;     /* Larger transitions */

  /* ========================================
     DIALOG & MODAL
     ======================================== */

  /* Dialog backdrop color for light mode */
  --backdrop-color: rgba(15, 23, 42, 0.3);

  /* ========================================
     SAFE AREA INSETS (PWA Support)
     ======================================== */

  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);
  --safe-left: env(safe-area-inset-left);
  --safe-right: env(safe-area-inset-right);
}

/* ========================================
   DARK MODE OVERRIDE
   ======================================== */

:root[data-theme="dark"] {
  color-scheme: dark;

  /* Neutrals (Inverted Hierarchy) */
  --color-bg-primary: #0F172A;
  --color-bg-secondary: #1E293B;
  --color-bg-tertiary: #334155;
  --color-bg-hover: #475569;
  --color-bg-active: #64748B;

  /* Borders (Higher opacity for visibility on dark) */
  --color-border-primary: rgba(255, 255, 255, 0.10);
  --color-border-secondary: rgba(255, 255, 255, 0.15);
  --color-border-focus: #60A5FA;

  /* Text (Inverted) */
  --color-text-primary: #F1F5F9;
  --color-text-secondary: #CBD5E1;
  --color-text-muted: #94A3B8;
  --color-text-faint: #64748B;

  /* Semantic Colors (Desaturated for Dark Backgrounds) */
  --color-success-bg: #14532D;
  --color-success-border: rgba(34, 197, 94, 0.4);
  --color-success-text: #86EFAC;
  --color-success-solid: #22C55E;

  --color-warning-bg: #451A03;
  --color-warning-border: rgba(245, 158, 11, 0.4);
  --color-warning-text: #FCD34D;
  --color-warning-solid: #F59E0B;

  --color-error-bg: #450A0A;
  --color-error-border: rgba(239, 68, 68, 0.4);
  --color-error-text: #FCA5A5;
  --color-error-solid: #EF4444;

  --color-info-bg: #1E3A8A;
  --color-info-border: rgba(59, 130, 246, 0.4);
  --color-info-text: #93C5FD;
  --color-info-solid: #3B82F6;

  /* Accent */
  --color-accent-primary: #60A5FA;
  --color-accent-primary-hover: #3B82F6;
  --color-accent-primary-active: #2563EB;

  /* Dialog backdrop color for dark mode */
  --backdrop-color: rgba(0, 0, 0, 0.5);

  /* Depth backgrounds stay same structure, borders have opacity */
  --depth-1-border: 1px solid var(--color-border-primary);
  --depth-2-border: 1px solid var(--color-border-secondary);
  --depth-3-border: 1px solid var(--color-border-secondary);
  --depth-3-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);  /* Stronger shadow for dark */
  --depth-4-border: 1px solid var(--color-border-secondary);
  --depth-4-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* ========================================
   AUTOMATIC DARK MODE DETECTION
   ======================================== */

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    color-scheme: dark;

    /* Apply same dark mode variables as above */
    --color-bg-primary: #0F172A;
    --color-bg-secondary: #1E293B;
    --color-bg-tertiary: #334155;
    --color-bg-hover: #475569;
    --color-bg-active: #64748B;

    --color-border-primary: rgba(255, 255, 255, 0.10);
    --color-border-secondary: rgba(255, 255, 255, 0.15);
    --color-border-focus: #60A5FA;

    --color-text-primary: #F1F5F9;
    --color-text-secondary: #CBD5E1;
    --color-text-muted: #94A3B8;
    --color-text-faint: #64748B;

    --color-success-bg: #14532D;
    --color-success-border: rgba(34, 197, 94, 0.4);
    --color-success-text: #86EFAC;

    --color-warning-bg: #451A03;
    --color-warning-border: rgba(245, 158, 11, 0.4);
    --color-warning-text: #FCD34D;

    --color-error-bg: #450A0A;
    --color-error-border: rgba(239, 68, 68, 0.4);
    --color-error-text: #FCA5A5;

    --color-info-bg: #1E3A8A;
    --color-info-border: rgba(59, 130, 246, 0.4);
    --color-info-text: #93C5FD;

    --color-accent-primary: #60A5FA;
    --color-accent-primary-hover: #3B82F6;
    --color-accent-primary-active: #2563EB;

    --backdrop-color: rgba(0, 0, 0, 0.5);

    --depth-3-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
    --depth-4-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
}
